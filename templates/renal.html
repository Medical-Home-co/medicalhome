<div class="page-container">
    <div class="page-header">
        <div>
            <h2 class="page-title">Balance Hídrico (BCM)</h2>
            <p class="page-subtitle">Control de peso y líquidos para pacientes renales.</p>
        </div>
        <button id="add-bcm-main-btn" class="button button-primary hidden">
            <span>+ Actualizar Peso</span>
        </button>
    </div>

    <div id="bcm-data-container" class="content-grid hidden">
        <div id="bcm-weight-card" class="summary-card">
            <h3 class="card-title">Control de Peso</h3>
            <div class="card-data-row">
                <span>Peso Actual</span>
                <span class="data-value" id="bcm-display-current">...</span>
            </div>
            <div class="card-data-row">
                <span>Peso Seco</span>
                <span class="data-value" id="bcm-display-dry">...</span>
            </div>
            <div class="card-data-row highlight">
                <span>Ganancia de Líquido</span>
                <span class="data-value" id="bcm-display-gain">...</span>
            </div>
            <button id="update-weight-btn" class="button button-primary" style="width: 100%; margin-top: 1rem;">+ Actualizar Peso</button>
        </div>

        <div id="bcm-liquid-card" class="summary-card">
            <h3 class="card-title">Control de Líquidos</h3>
            <div class="card-data-row dotted">
                <span>Límite Diario</span>
                <span class="data-value" id="bcm-display-limit">...</span>
            </div>
             <div class="card-data-row highlight">
                <span>Líquido Restante</span>
                <span class="data-value" id="bcm-display-remaining">...</span>
            </div>
            <button id="add-liquid-btn" class="button button-primary" style="width: 100%; margin-top: 1rem;">+ Agregar Líquido</button>
            <div id="bcm-liquid-log" class="liquid-log">
                </div>
        </div>

        <div id="bcm-appointments-card" class="summary-card">
            <div class="page-header" style="margin-bottom: 1rem;">
                <h3 class="card-title">Citas de Peso Seco</h3>
                <button id="add-appointment-btn" class="button button-primary button-small">+ Agendar</button>
            </div>
            <div id="bcm-appointments-list">
                <p id="bcm-no-appointments-msg" style="color: var(--text-secondary); font-size: 0.9rem;">No hay citas agendadas.</p>
                </div>
        </div>
    </div>

    <div id="bcm-empty-state" class="empty-state-container" style="text-align: center; margin-top: 4rem;">
        <h2 class="modal-title">Registra tu Balance Hídrico</h2>
        <img src="images/renal.png" alt="Icono Renal" style="width: 128px; height: 128px; margin: 1.5rem auto;">
        <p class="modal-subtitle" style="max-width: 400px; margin: 0 auto 1.5rem;">Comienza ingresando tu peso para calcular y controlar tu ingesta de líquidos.</p>
        <button id="add-bcm-initial-btn" class="button button-primary">Ingresar Peso</button>
    </div>
</div>


<div id="bcm-weight-modal" class="modal-overlay hidden">
    <div class="modal-content">
        <h2 class="modal-title">Registrar Peso</h2>
        <form id="bcm-weight-form" class="modal-form">
            <div class="form-group">
                <label for="bcm-current-weight">Peso Actual (kg)</label>
                <input type="number" step="0.1" id="bcm-current-weight" class="form-input" required>
            </div>
            <div class="form-group">
                <label for="bcm-dry-weight">Peso Seco (kg)</label>
                <input type="number" step="0.1" id="bcm-dry-weight" class="form-input" required>
            </div>
            <div class="modal-actions">
                <button type="button" id="cancel-weight-btn" class="button button-secondary">Cancelar</button>
                <button type="submit" class="button button-primary">Guardar</button>
            </div>
        </form>
    </div>
</div>

<div id="bcm-liquid-modal" class="modal-overlay hidden">
    <div class="modal-content">
        <h2 class="modal-title">Agregar Líquido Ingerido</h2>
        <form id="bcm-liquid-form" class="modal-form">
            <div class="form-group">
                <label for="bcm-liquid-amount">Cantidad (ml)</label>
                <input type="number" id="bcm-liquid-amount" class="form-input" required>
            </div>
            <div class="modal-actions">
                <button type="button" id="cancel-liquid-btn" class="button button-secondary">Cancelar</button>
                <button type="submit" class="button button-primary">Agregar</button>
            </div>
        </form>
    </div>
</div>

<div id="bcm-appointment-modal" class="modal-overlay hidden">
    <div class="modal-content">
        <h2 class="modal-title">Agendar Cita de Peso Seco</h2>
        <form id="bcm-appointment-form" class="modal-form">
            <div class="form-group">
                <label for="bcm-appointment-date">Fecha</label>
                <input type="date" id="bcm-appointment-date" class="form-input" required>
            </div>
             <div class="form-group">
                <label for="bcm-appointment-time">Hora</label>
                <input type="time" id="bcm-appointment-time" class="form-input" required>
            </div>
            <div class="form-group">
                <label for="bcm-appointment-new-weight">Nuevo Peso Seco Esperado (kg)</label>
                <input type="number" step="0.1" id="bcm-appointment-new-weight" class="form-input" required>
            </div>

            <div class="modal-actions">
                <button type="button" id="cancel-appointment-btn" class="button button-secondary">Cancelar</button>
                <button type="submit" class="button button-primary">Agendar</button>
            </div>
        </form>
    </div>
</div>